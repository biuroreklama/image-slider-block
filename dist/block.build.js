!function(l){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=l,r.c=n,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(l,n,function(e){return t[e]}.bind(null,n));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,l){"use strict";l.r(t);var n=wp.editor,o=n.InspectorControls,a=n.InnerBlocks,i=(n.RichText,n.MediaUpload),c=(n.PlainText,n.ColorPalette),r=wp.components,u=r.PanelBody,m=r.Button,s=r.RangeControl,d=wp.element,p=d.Fragment,f=d.createElement,g=wp.blocks.registerBlockType,b=f("svg",{width:20,height:20,viewBox:"0 0 241.95 283.46"},f("path",{d:"M41.51,41.51,61.56,61.56a113.38,113.38,0,0,1,160.35,0l20-20.05A141.73,141.73,0,0,0,41.51,41.51 M41.51,41.51,61.56,61.56a113.38,113.38,0,0,0,0,160.35L41.51,242A141.73,141.73,0,0,1,41.51,41.51Z M242,242l-20-20a113.38,113.38,0,0,1-160.35,0L41.51,242A141.73,141.73,0,0,0,242,242Z",fill:"#303030"})),y=function(e,t){return e=e.replace("#",""),"rgba("+parseInt(e.substring(0,2),16)+","+parseInt(e.substring(2,4),16)+","+parseInt(e.substring(4,6),16)+","+t/100+")"},v=function(e){return e||"https://source.unsplash.com/random/800x600"},w=(g("chrisf/slide-block",{title:"Slide Block",parent:"chrisf/image-slider-block",icon:b,category:"common",attributes:{imageAlt:{attribute:"alt",selector:"img"},imageUrl:{attribute:"src",selector:"img"},overlayColor:{type:"string"},overlayOpacity:{type:"integer",default:100},primaryFontColor:{type:"string"},isCurrentSlide:{type:"integer",default:0},slideNumber:{type:"integer",default:0}},edit:function(e){var t=e.attributes,l=e.setAttributes,n={backgroundImage:"url("+v(t.imageUrl)+")"};if(t.overlayColor){var r=y(t.overlayColor,t.overlayOpacity);n.backgroundColor=r,n.backgroundBlendMode="overlay"}return t.primaryFontColor&&(n.color=t.primaryFontColor),0<t.isCurrentSlide&&(n.display="inline-block"),[wp.element.createElement(o,null,wp.element.createElement(u,null,wp.element.createElement(i,{onSelect:function(e){l({imageAlt:e.alt,imageUrl:e.url})},type:"image",value:t.imageID,render:function(e){return function(e){return t.imageUrl?wp.element.createElement(m,{onClick:e,className:"button button-large"},"Change image"):wp.element.createElement(m,{onClick:e,className:"button button-large"},"Choose slide background image")}(e.open)}})),wp.element.createElement(u,null,wp.element.createElement("label",null,"Overlay Colour"),wp.element.createElement(c,{value:t.overlayColor,onChange:function(e){return l({overlayColor:e})}}),wp.element.createElement(s,{label:"Overlay opacity",value:t.overlayOpacity,initialPosition:t.overlayOpacity,onChange:function(e){return l({overlayOpacity:e})},min:1,max:100})),wp.element.createElement(u,null,wp.element.createElement("label",null,"Choose primary font color:"),wp.element.createElement(c,{value:t.primaryFontColor,onChange:function(e){return l({primaryFontColor:e})}}))),wp.element.createElement("div",{className:"slide slide-"+t.slideNumber,style:n},wp.element.createElement(a,{templateLock:!1}))]},save:function(e){var t=e.attributes,l={backgroundImage:"url("+v(t.imageUrl)+")"};if(t.overlayColor){var n=y(t.overlayColor,t.overlayOpacity);l.backgroundColor=n,l.backgroundBlendMode="overlay"}t.primaryFontColor&&(l.color=t.primaryFontColor);var r=1===t.slideNumber;return wp.element.createElement(p,null,wp.element.createElement("input",{type:"radio",name:"select-slide",id:"slide-"+t.slideNumber,checked:r,value:t.slideNumber}),wp.element.createElement("label",{for:"slide-"+t.slideNumber}),wp.element.createElement("div",{className:"slide",style:l},wp.element.createElement(a.Content,null)))}}),l(1),l(3),wp.editor),C=w.InspectorControls,S=w.InnerBlocks,E=wp.blocks.registerBlockType,h=wp.components,k=h.PanelBody,B=(h.Button,h.TextControl),I=h.SelectControl,N=(h.RangeControl,wp.element),O=N.Fragment,x=N.createElement,M=wp.i18n.__,A=x("svg",{width:20,height:20,viewBox:"0 0 241.95 283.46"},x("path",{d:"M41.51,41.51,61.56,61.56a113.38,113.38,0,0,1,160.35,0l20-20.05A141.73,141.73,0,0,0,41.51,41.51 M41.51,41.51,61.56,61.56a113.38,113.38,0,0,0,0,160.35L41.51,242A141.73,141.73,0,0,1,41.51,41.51Z M242,242l-20-20a113.38,113.38,0,0,1-160.35,0L41.51,242A141.73,141.73,0,0,0,242,242Z",fill:"#303030"})),P=["chrisf/slide-block"];E("chrisf/image-slider-block",{title:"Image Slider Block",icon:A,category:"common",attributes:{numSlides:{type:"integer",default:1},containerId:{type:"string",default:null},currentSlide:{type:"integer",default:1},supports:{align:["wide","full"]}},edit:function(e){var l=e.attributes,t=(e.className,e.setAttributes),n=e.clientId;console.log(l),wp.data.select("core/editor").getBlocksByClientId(n)[0].innerBlocks.forEach(function(e,t){t==l.currentSlide-1?wp.data.dispatch("core/editor").updateBlockAttributes(e.clientId,{isCurrentSlide:1}):wp.data.dispatch("core/editor").updateBlockAttributes(e.clientId,{isCurrentSlide:0})}),l.currentSlide>l.numSlides&&t({currentSlide:1}),l.currentSlide<1&&t({currentSlide:l.numSlides});var r="image-slider-editor show-"+l.currentSlide;return[wp.element.createElement(C,null,wp.element.createElement(k,null,wp.element.createElement(B,{label:"Number of slides",value:l.numSlides,type:"number",onChange:function(e){return t({numSlides:parseInt(e,10)})},min:1,max:16})),wp.element.createElement(k,null,wp.element.createElement(I,{onChange:function(e){return t({currentSlide:e})},value:l.currentSlide,label:M("Select slide number to view/edit"),options:function(){for(var e=[],t=0;t<l.numSlides;t++)e.push({value:t+1,label:"Slide "+(t+1)});return e}()})),wp.element.createElement(k,null,wp.element.createElement(B,{label:"Container ID",value:l.containerId,onChange:function(e){return t({containerId:e})}}))),wp.element.createElement(O,null,wp.element.createElement("div",{className:r},wp.element.createElement(S,{template:function(e,t){for(var l=[],n=0;n<e;n++){var r=0==n?1:0;l.push(["chrisf/slide-block",{slideNumber:n+1,isCurrentSlide:r}])}return l}(l.numSlides,l.currentSlide),templateLock:"all",allowedBlocks:P})),wp.element.createElement("button",{onClick:function(){t({currentSlide:l.currentSlide-1})}},"Prev slide"),wp.element.createElement("button",{onClick:function(){t({currentSlide:l.currentSlide+1})}},"Next slide"))]},save:function(e){e.attributes;return wp.element.createElement("section",{className:"image-slider"},wp.element.createElement(S.Content,null))}})},function(e,t){},,function(e,t){}]);
//# sourceMappingURL=block.build.js.map