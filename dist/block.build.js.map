{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/slide.js","webpack:///./src/block.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","wp","editor","InspectorControls","InnerBlocks","MediaUpload","RichText","ColorPalette","PlainText","components","PanelBody","Button","RangeControl","element","Fragment","createElement","registerBlockType","blocks","iconEl","width","height","viewBox","fill","convertHexToRgba","hex","opacity","replace","parseInt","substring","getImageSource","imageUrl","title","parent","icon","category","attributes","imageAlt","attribute","selector","overlayColor","type","overlayOpacity","default","primaryFontColor","isCurrentSlide","slideNumber","edit","_ref","setAttributes","styles","backgroundImage","bgColorRgba","backgroundColor","backgroundBlendMode","color","display","onSelect","media","alt","url","imageID","render","_ref2","openEvent","onClick","className","getImageButton","open","onChange","label","initialPosition","min","max","style","templateLock","save","_ref3","checked","id","for","Content","blockEditor","TextControl","SelectControl","__","i18n","ALLOWED_BLOCKS","numSlides","containerId","currentSlide","supports","align","clientId","console","log","data","select","getBlocksByClientId","innerBlocks","forEach","child","index","dispatch","updateBlockAttributes","imageSliderClasses","block_InspectorControls","block_PanelBody","nextSlides","slideIndex","options","x","push","getSlideOptions","block_Fragment","block_InnerBlocks","template","els","getSlidesTemplate","allowedBlocks"],"mappings":"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","file":"block.build.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const { InspectorControls, InnerBlocks, RichText, MediaUpload, PlainText, ColorPalette } = wp.editor;\nconst { PanelBody, Button, RangeControl } = wp.components;\nconst { Fragment, createElement } = wp.element;\nconst { registerBlockType } = wp.blocks;\n\nconst iconEl = createElement('svg', { width: 20, height: 20, viewBox: \"0 0 241.95 283.46\" },\n  createElement('path', { d: \"M41.51,41.51,61.56,61.56a113.38,113.38,0,0,1,160.35,0l20-20.05A141.73,141.73,0,0,0,41.51,41.51 M41.51,41.51,61.56,61.56a113.38,113.38,0,0,0,0,160.35L41.51,242A141.73,141.73,0,0,1,41.51,41.51Z M242,242l-20-20a113.38,113.38,0,0,1-160.35,0L41.51,242A141.73,141.73,0,0,0,242,242Z\", fill: \"#303030\"})\n);\n\nconst convertHexToRgba = function (hex, opacity) {\n  hex = hex.replace('#','');\n  let red = parseInt(hex.substring(0,2), 16);\n  let green = parseInt(hex.substring(2,4), 16);\n  let blue = parseInt(hex.substring(4,6), 16);\n  let result = 'rgba('+red+','+green+','+blue+','+opacity/100+')';\n  return result;\n}\n\nconst getImageSource = function ( imageUrl ) {\n  if(imageUrl) {\n    return(\n      imageUrl\n    );\n  } else {\n    return 'https://source.unsplash.com/random/800x600'\n  }\n}\n\nexport default registerBlockType('chrisf/slide-block', {\n  title: 'Slide Block',\n  parent: 'chrisf/image-slider-block',\n  icon: iconEl,\n  category: 'common',\n  attributes: {\n    imageAlt: {\n      attribute: 'alt',\n      selector: 'img'\n    },\n    imageUrl: {\n      attribute: 'src',\n      selector: 'img'\n    },\n    overlayColor: {\n      type: 'string'\n    },\n    overlayOpacity: {\n      type: 'integer',\n      default: 100\n    },\n    primaryFontColor: {\n      type: 'string'\n    },\n    isCurrentSlide: {\n      type: 'integer',\n      default: 0\n    },\n    slideNumber: {\n      type: 'integer',\n      default: 0\n    }\n  },\n\n  edit({ attributes, setAttributes }) {\n\n    const getImageButton = ( openEvent ) => {\n      if(attributes.imageUrl) {\n        return (\n          <Button\n            onClick={ openEvent }\n            className=\"button button-large\"\n          >\n            Change image\n          </Button>\n        );\n      } else {\n        return (\n          <Button\n            onClick={ openEvent }\n            className=\"button button-large\"\n          >\n            Choose slide background image\n          </Button>\n        );\n      }\n    }\n\n    const styles={\n      backgroundImage: 'url(' + getImageSource( attributes.imageUrl ) + ')'\n    }\n    //if overlay\n    if( attributes.overlayColor ){\n      let bgColorRgba = convertHexToRgba( attributes.overlayColor, attributes.overlayOpacity );\n      styles.backgroundColor = bgColorRgba;\n      styles.backgroundBlendMode = 'overlay';\n    }\n    //if font color\n    if( attributes.primaryFontColor ){\n      styles.color = attributes.primaryFontColor;\n    }\n    //show/hide\n    if( attributes.isCurrentSlide > 0 ){\n      styles.display = 'inline-block';\n    }\n\n\n    return[\n      <InspectorControls>\n        <PanelBody>\n          <MediaUpload\n          onSelect={ media => { setAttributes({ imageAlt: media.alt, imageUrl: media.url }); } }\n          type=\"image\"\n          value={ attributes.imageID }\n          render={ ({ open }) => getImageButton(open) }\n          />\n        </PanelBody>\n        <PanelBody>\n          <label>Overlay Colour</label>\n          <ColorPalette\n              value={ attributes.overlayColor }\n              onChange={ color => setAttributes({ overlayColor: color })}\n            />\n          <RangeControl\n            label=\"Overlay opacity\"\n            value={ attributes.overlayOpacity }\n            initialPosition={ attributes.overlayOpacity }\n            onChange={ value => setAttributes({ overlayOpacity: value }) }\n            min={ 1 }\n            max={ 100 }\n          />\n        </PanelBody>\n        <PanelBody>\n          <label>Choose primary font color:</label>\n          <ColorPalette\n            value={ attributes.primaryFontColor }\n            onChange={ color => setAttributes({ primaryFontColor: color })}\n          />\n        </PanelBody>\n      </InspectorControls>,\n      <div className={'slide slide-' + attributes.slideNumber } style={ styles }>\n        <InnerBlocks templateLock={ false } />\n      </div>\n    ]\n  },\n\n\n  save({ attributes }) {\n\n    const styles={\n      backgroundImage: 'url(' + getImageSource( attributes.imageUrl ) + ')'\n    }\n    //if overlay\n    if( attributes.overlayColor ){\n      let bgColorRgba = convertHexToRgba( attributes.overlayColor, attributes.overlayOpacity );\n      styles.backgroundColor = bgColorRgba;\n      styles.backgroundBlendMode = 'overlay';\n    }\n    //if font color\n    if( attributes.primaryFontColor ){\n      styles.color = attributes.primaryFontColor;\n    }\n\n    //inout checked\n    let checked = ( attributes.slideNumber === 1 ) ? true : false ;\n\n    return (\n      <Fragment>\n        <input type=\"radio\" name=\"select-slide\" id={ 'slide-' + attributes.slideNumber } checked={ checked } value={attributes.slideNumber} />\n        <label for={ 'slide-' + attributes.slideNumber }></label>\n        <div className=\"slide\" style={ styles }>\n          <InnerBlocks.Content />\n        </div>\n      </Fragment>\n    )\n  }\n\n\n});\n","const { InspectorControls, InnerBlocks } = wp.blockEditor;\nconst { registerBlockType } = wp.blocks;\nconst { PanelBody, Button, TextControl, SelectControl, RangeControl } = wp.components;\nconst { Fragment, createElement } = wp.element;\nconst { __ } = wp.i18n;\n\nconst iconEl = createElement('svg', { width: 20, height: 20, viewBox: \"0 0 241.95 283.46\" },\n  createElement('path', { d: \"M41.51,41.51,61.56,61.56a113.38,113.38,0,0,1,160.35,0l20-20.05A141.73,141.73,0,0,0,41.51,41.51 M41.51,41.51,61.56,61.56a113.38,113.38,0,0,0,0,160.35L41.51,242A141.73,141.73,0,0,1,41.51,41.51Z M242,242l-20-20a113.38,113.38,0,0,1-160.35,0L41.51,242A141.73,141.73,0,0,0,242,242Z\", fill: \"#303030\"})\n);\n\n//import column-block\nimport './slide.js';\n\nconst ALLOWED_BLOCKS = [ 'chrisf/slide-block' ];\n\nconst getSlidesTemplate = (numSlides, currentSlide) => {\n  let els = [];\n  for( let x = 0; x<numSlides; x++ ){\n    let isCurrentSlide = ( x == 0 ) ? 1 : 0 ;\n    els.push([ 'chrisf/slide-block', { slideNumber: (x + 1), isCurrentSlide: isCurrentSlide } ])\n  }\n  return els;\n}\n\nimport './style.scss';\nimport './editor.scss';\n\nregisterBlockType('chrisf/image-slider-block', {\n  title: 'Image Slider Block',\n  icon: iconEl,\n  category: 'common',\n  attributes: {\n    numSlides: {\n      type: 'integer',\n      default: 1\n    },\n    containerId: {\n      type: 'string',\n      default: null\n    },\n    currentSlide: {\n      type: 'integer',\n      default: 1\n    },\n    supports: {\n  \t\talign: [ 'wide', 'full' ]\n  \t},\n  },\n\n  edit( {attributes, className, setAttributes, clientId } ) {\n\n    console.log(attributes);\n\n    //set current slide attributes on children\n    let children = wp.data.select('core/editor').getBlocksByClientId(clientId)[0].innerBlocks;\n    children.forEach( function( child, index ){\n      //check if current\n      if( index == (attributes.currentSlide - 1)){\n        wp.data.dispatch('core/editor').updateBlockAttributes(child.clientId, {isCurrentSlide: 1})\n      } else {\n        wp.data.dispatch('core/editor').updateBlockAttributes(child.clientId, {isCurrentSlide: 0})\n      }\n    })\n\n    //current slide actions\n    if( attributes.currentSlide > attributes.numSlides ){\n      setAttributes({ currentSlide: 1 })\n    }\n    if( attributes.currentSlide < 1 ){\n      setAttributes({ currentSlide: attributes.numSlides })\n    }\n    const imageSliderClasses = 'image-slider-editor show-' + attributes.currentSlide;\n\n    const getSlideOptions = function(){\n      let options = [];\n      for( let x = 0; x < attributes.numSlides; x++ ){\n        options.push({\n          value: (x + 1),\n          label: 'Slide ' + (x + 1)\n        })\n      }\n      return options;\n    }\n\n    return[\n      <InspectorControls>\n        <PanelBody>\n          <TextControl\n            label=\"Number of slides\"\n            value={ attributes.numSlides }\n            type=\"number\"\n            onChange={ nextSlides => setAttributes({ numSlides: parseInt(nextSlides, 10) }) }\n            min={ 1 }\n            max={ 16 }\n          />\n        </PanelBody>\n        <PanelBody>\n        <SelectControl\n          onChange={ slideIndex => setAttributes({ currentSlide: slideIndex })}\n          // Selected value.\n          value={ attributes.currentSlide }\n          label={ __( 'Select slide number to view/edit' ) }\n          options={ getSlideOptions() } />\n        </PanelBody>\n        <PanelBody>\n          <TextControl\n            label='Container ID'\n            value={ attributes.containerId }\n            onChange={ (value) => setAttributes({ containerId: value })}\n          />\n        </PanelBody>\n      </InspectorControls>,\n      <Fragment>\n        <div className={ imageSliderClasses }>\n          <InnerBlocks\n            template={ getSlidesTemplate( attributes.numSlides, attributes.currentSlide ) }\n            templateLock=\"all\"\n            allowedBlocks={ ALLOWED_BLOCKS } />\n        </div>\n        <button onClick={ () => { setAttributes({ currentSlide: ( attributes.currentSlide - 1 ) }) } }>Prev slide</button>\n        <button onClick={ () => { setAttributes({ currentSlide: ( attributes.currentSlide + 1 ) }) } }>Next slide</button>\n      </Fragment>\n    ]\n  },\n\n\n  save( { attributes } ) {\n\n    return <section className=\"image-slider\"><InnerBlocks.Content /></section>;\n  },\n\n});\n"],"sourceRoot":""}